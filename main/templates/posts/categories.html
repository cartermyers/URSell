
<!DOCTYPE html>
<html lang="en">
<head>
  {% load static %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Category</title>
    <link rel="shortcut icon" href="{% static 'img/Uregina.ico' %}"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:100,300,400">   <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="{% static 'font-awesome-4.5.0/css/font-awesome.min.css' %}">                <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">                                      <!-- Bootstrap style -->
    <link rel="stylesheet" href="{% static 'css/templatemo-style.css' %}">                                   <!-- Templatemo style -->
    <link rel="stylesheet" href="{% static "css/login.css" %}">
</head>

    <body id="top" class="page-2">
      {% if user.is_authenticated %}
      <button id="sidebaricon" class="sidebar" onclick="sidebar_open()"><img class="sidebar" src="{{ request.user.profile_pic.url }}" alt="Avatar"></button>
      <div class="w3-sidebar w3-bar-block w3-animate-left" style="background-color:rgba(0,0,0,0.4); color:grey; display:none;z-index:1005" id="mySidebar">
        <button class="login-close" onclick="sidebar_close()">&times;</button>
          <img class="usericon" src="{{ request.user.profile_pic.url }}" alt="Avatar"><hr color="grey"/>
          <a href="sale.html" style="background-color:transparent" class="w3-bar-item w3-button">Sale</a>
          <a href="#" style="background-color:transparent" class="w3-bar-item w3-button">Link 2</a>
          <a href="#" style="background-color:transparent" class="w3-bar-item w3-button">Link 3</a><hr color="grey"/>
          <a href="{% url 'account:logout' %}" style="background-color:transparent" class="w3-bar-item w3-button">Logout</a>
          <a href="profile.html" style="background-color:transparent" class="w3-bar-item w3-button">Profile</a>
        <a href="{% url 'posts:test' %}" style="background-color:transparent" class="w3-bar-item w3-button">Test page</a>

      </div>
      <div class="w3-overlay w3-animate-opacity" onclick="sidebar_close()" style="cursor:pointer" id="myOverlay"></div>
      {% endif %}
 <!------------------------------------------------------------------------------- List of the titles ------------------------------------------------------------------------------>
        <div class="tm-navbar-container tm-navbar-container-dark">
            <nav class="navbar navbar-full navbar-fixed-top bg-inverse">
                <button class="navbar-toggler hidden-md-up" type="button" data-toggle="collapse" data-target="#tmNavbar">
                    &#9776;
                </button>
                <div class="collapse navbar-toggleable-sm" id="tmNavbar">
                    <ul class="nav navbar-nav">
                        <li class="nav-item"><a href="{% url 'index' %}" class="nav-link external">Home</a></li>
                        <li class="nav-item"><a href="{% url 'posts:ads' %}" class="nav-link external">Most Recent</a></li>
                        {% if request.user.is_authenticated %}
                        <li class="nav-item"><a href="{% url 'posts:newpost' %}" class="nav-link external">Post Ad</a></li>
                        {% endif %}
                        <li class="nav-item"><a href="#" class="nav-link">Categories</a> </li>
                    </ul>
                </div>
            </nav>
        </div>
 <!------------------------------------------------------------------------------- Buy & Sell ------------------------------------------------------------------------------>
      <div class="container-fluid">

            <div class="row">
              <div id="Buy" class="tm-section">
                <div class="col-md-12">
                    <h1 class="text-xs-center blue-text tm-page-2-title">Categories</h1>
                    <p class="text-xs-center tm-page-2-p tm-page-2-subtitle">
                        All you daily needs <br>
                        start at UR-SALE.
                    </p>
                </div>
              </div>
            </div>

            <div class="row">
                <div class="tm-section" id="Buy">

                  {% for category in categories %}
                  <div class="col-md-4 margin-bottom-sm-3">
                      <div class="tm-3-col-box">
                          <img src="{{ category.image.url }}" alt="Image" class="img-fluid">

                          <div class="tm-description-box">
                              <p class="tm-description-text">
                                       {{ category.title }}
                              </p>

                              <div class="tm-flex-center">
                                  <a href="{% url 'posts:ads' %}{{ category.pk }}/" class="btn btn-default tm-normal-btn tm-blue-bordered-btn">Browse</a>
                              </div>

                          </div>
                      </div>
                  </div>
                  {% endfor %}

            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                    <p class="text-xs-center tm-footer-text">Copyright &copy; 2017 UR-SALE</p>
                </div>
            </div>
        </div> <!-- .container -->

        <script src="{% static 'js/jquery-1.11.3.min.js' %}"></script>             <!-- jQuery (https://jquery.com/download/) -->
        <script src="https://www.atlasestateagents.co.uk/javascript/tether.min.js"></script> <!-- Tether for Bootstrap, http://stackoverflow.com/questions/34567939/how-to-fix-the-error-error-bootstrap-tooltips-require-tether-http-github-h -->
        <script src="{% static 'js/bootstrap.min.js' %}"></script>                 <!-- Bootstrap (http://v4-alpha.getbootstrap.com/) -->
        <script src="{% static 'js/jquery.singlePageNav.min.js' %}"></script>      <!-- Single Page Nav (https://github.com/ChrisWojcik/single-page-nav) -->

        <!-- Templatemo scripts -->
        <script>

            $(document).ready(function(){

                var mobileTopOffset = 54;
                var tabletTopOffset = 74;
                var desktopTopOffset = 79;
                var topOffset = desktopTopOffset;

                if($(window).width() <= 767) {
                    topOffset = mobileTopOffset;
                }
                else if($(window).width() <= 991) {
                    topOffset = tabletTopOffset;
                }

                /* Single page nav
                -----------------------------------------*/
                $('#tmNavbar').singlePageNav({
                    'currentClass' : "active",
                    offset : topOffset,
                    'filter': ':not(.external)'
                });

                if($(window).width() < 570) {
                    $('.tm-full-width-large-table').addClass('table-responsive');
                }
                else {
                    $('.tm-full-width-large-table').removeClass('table-responsive');
                }


                /* Collapse menu after click
                -----------------------------------------*/
                $('#tmNavbar a').click(function(){
                    $('#tmNavbar').collapse('hide');
                });


                /* Handle nav offset & table responsive upon window resize
                --------------------------------------------------------------*/
                $(window).resize(function(){

                    if($(window).width() < 768) {
                        topOffset = mobileTopOffset;
                    }
                    else if($(window).width() <= 991) {
                        topOffset = tabletTopOffset;
                    }
                    else {
                        topOffset = desktopTopOffset;
                    }

                    $('#tmNavbar').singlePageNav({
                        'currentClass' : "active",
                        offset : topOffset,
                        'filter': ':not(.external)'
                    });

                    if($(window).width() < 570) {
                        $('.tm-full-width-large-table').addClass('table-responsive');
                    }
                    else {
                        $('.tm-full-width-large-table').removeClass('table-responsive');
                    }
                });

            });

        </script>
    </body>
</html>
